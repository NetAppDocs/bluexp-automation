{"swagger":"2.0","info":{"title":"IPA service REST API reference","description":"  <details><summary>Overview</summary>\n<p>The In-Product Automation (IPA) service is a Cloud Manager platform service that provides a REST API-based automation facility to enable<br />\nlicense enforcement and policy-driven operational control for an array of software license models. It encompasses various NetApp product lines,<br />\n\nincluding ONTAP (AFF/FAS/Cloud Volumes ONTAP), E-Series, StorageGRID, SolidFire and other host-based solutions such as OnCommand Insight and<br />\nMAX Data Software.</p>\n<p>The Cloud Manager IPA service orchestrates the overall IPA configuration to facilitate the management of licenses, services, and<br />\nNetApp Support Site (NSS) user data. It provides streamlined orchestration of Cloud Volumes ONTAP system management of IPA functions.</p>\n<p>The IPA service provides secure and granular role-based access control (RBAC) for resources in the Cloud Manager platform. The service operates within the context of a Cloud Manager account. The identity of the API caller and the account are established through a user or service token.</p>\n<p>There are three components defined within the IPA service that expose REST endpoints.</p>\n<ul>\n<li>license</li>\n<li>services</li>\n<li>NSS</li>\n</ul>\n<p>The IPA service has two modes of operation:</p>\n<ul>\n<li>Legacy <code>password</code> -based authentication mode</li>\n<li>Current <code>token</code> -based authentication mode</li>\n</ul>\n<p>The different modes of operation depend on the way a license is registered for a particular serial number. The preferred mode of authentication is the current token-based<br />\nmode of operation. When a license is registered with a password, the legacy Oracle password-based authentication mode is used.</p>\n<p>The key benefits of the IPA service include:</p>\n<ul>\n<li>A consistent and coherent user experience of  IPA-related features (such as license and NSS)</li>\n<li>An intuitive REST API to manage the IPA-related features that can call up a license, service, and NSS user on the same plane</li>\n</ul>\n<p>All IPA service API calls are short-lived and run synchronously. Asynchronous processing and internal process tracking are not supported.</p>\n</details>\n<hr />\n   <details>\n<summary>REST implementation</summary>\n<h3>HTTP methods</h3>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>POST</code></td>\n<td>Create an object instance</td>\n</tr>\n<tr>\n<td><code>GET</code></td>\n<td>Retrieve an object instance or collection</td>\n</tr>\n<tr>\n<td><code>PUT</code></td>\n<td>Update an existing object's specified properties</td>\n</tr>\n<tr>\n<td><code>DELETE</code></td>\n<td>Remove an existing object</td>\n</tr>\n</tbody>\n</table>\n<h3>Request headers</h3>\n<table>\n<thead>\n<tr>\n<th>Request Header</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Authorization</code></td>\n<td>Required. Contains the JWT token (user/service)</td>\n</tr>\n<tr>\n<td><code>X-service-request-id</code></td>\n<td>Used to tag a request with application-specific keys for improved supportability. Free-text string</td>\n</tr>\n</tbody>\n</table>\n<h3>Query parameters</h3>\n<p>You can use query parameters with endpoints in the following components:</p>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Query Parameter</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NSS</td>\n<td>accountId (required)</br>nssKeyId (required)</br>resourceId (required)</td>\n</tr>\n\n</tbody>\n</table>\n<h3>Response headers</h3>\n<p>This API uses the standard HTTP response headers common with all Cloud Manager APIs. See <a href=\"https://docs.netapp.com/us-en/cloud-manager-automation/platform/rest_implementation.html\">REST implementation</a> for more information.</p>\n<h3>HTTP status codes</h3>\n<table>\n<thead>\n<tr>\n<th>HTTP Status Code</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>200</code></td>\n<td>OK: Returned for successful operation completion</td>\n</tr>\n<tr>\n<td><code>400</code></td>\n<td>Bad Request: Returned if the input is malformed and could not be parsed</td>\n</tr>\n<tr>\n<td><code>401</code></td>\n<td>Unauthorized: Returned if user authentication failed or the token has expired</td>\n</tr>\n<tr>\n<td><code>403</code></td>\n<td>Forbidden: Returned for authorization errors depending on the resource and token</td>\n</tr>\n<tr>\n<td><code>404</code></td>\n<td>Not Found: Returned if the requested resource could not be found</td>\n</tr>\n<tr>\n<td><code>500</code></td>\n<td>Processing Error: Returned if an error occurs on the server while processing the API call</td>\n</tr>\n</tbody>\n</table>\n</details>\n<hr />\n   <details>\n<summary>Error handling</summary>\n<p>There are three processes involved with error handling and processing:</p>\n<ul>\n<li>The error is logged for supportability</li>\n<li>The error is returned to the caller for specific handling</li>\n<li>The database connection is rolled back</li>\n</ul>\n</details>\n<hr />\n   <details>\n<summary>cURL examples</summary>\n<h3>Retrieve NSS data for a specified account</h3>\n<p>This cURL example retrieves NSS data by using a specified account ID and NSS key ID.<br />\nThe NSS data contains the NSS ID, username, and email ID.</p>\n<pre><code class=\"language-bash\">curl -X GET &quot;https://cloudmanager.cloud.netapp.com/ipa/account/&lt;accountId&gt;/nss-key/&lt;nssKeyId&gt;/nss-data\n&quot; -H  &quot;accept: application/json&quot; -H  &quot;authorization: &lt;user token&gt;&quot;\n</code></pre>\n</details>\n<hr />\n   <br><br>","version":"1.0.0"},"definitions":{"def-0":{"title":"Authorization","type":"object","properties":{"authorization":{"description":"Authorization JWT Service Token","type":"string"},"X-Service-Request-Id":{"description":"Request identifier","type":"string"}},"required":["authorization"]},"def-1":{"title":"AuthorizationUser","type":"object","properties":{"authorization":{"description":"Authorization JWT User Token","type":"string"},"X-Service-Request-Id":{"description":"Request identifier","type":"string"}},"required":["authorization"]},"def-2":{"title":"Error","type":"object","description":"Error response","properties":{"error":{"description":"Error code/category","type":"string"},"message":{"description":"Error description message","type":"string"}}}},"paths":{"/ipa/account/{accountId}/serial-number/{serialNumber}/register":{"post":{"description":"Registers a license to IPA.\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["License"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"nssKeyId":{"type":"string"},"instanceID":{"type":"string"},"cloudAccountId":{"type":"string"},"startDate":{"type":"string"}},"required":["nssKeyId","instanceID","cloudAccountId","startDate"]}},{"type":"string","pattern":"^[0-9]{1,20}$","required":true,"in":"path","name":"serialNumber"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/serial-number/{serialNumber}/deregister":{"post":{"description":"Deregisters a license from IPA.\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["License"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"cloudAccountId":{"type":"string"}},"required":["cloudAccountId"]}},{"type":"string","pattern":"^[0-9]{1,20}$","required":true,"in":"path","name":"serialNumber"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/serial-number/{serialNumber}/registration-status":{"post":{"description":"Retrieves a license status.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["License"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"accountId":{"type":"string"}}}},{"type":"string","pattern":"^[0-9]{1,20}$","required":true,"in":"path","name":"serialNumber"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"status":{"type":"string"},"statusDescription":{"type":"string"},"contractEndDate":{"type":"string"},"contractStartDate":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/serial-number/{serialNumber}/status/v5":{"post":{"description":"Retrieves an IPA license status (V5).\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["License"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"nssKeyId":{"type":"string"},"version":{"type":"integer","default":1},"op":{"type":"string","default":"get"},"package":{"type":"string","default":"CLOUD"},"product":{"type":"string"}},"required":["nssKeyId"]}},{"type":"string","required":true,"in":"path","name":"accountId"},{"type":"string","pattern":"^[0-9]{1,20}$","required":true,"in":"path","name":"serialNumber"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"status":{"type":"string"},"statusDescription":{"type":"string"},"contractEndDate":{"type":"string"},"statusResp":{"type":"string"},"capacity":{"type":"integer"},"serialNumber":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/authenticate/v5":{"post":{"description":"Authenticates an IPA license (V5).\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["License"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"nssUsername":{"type":"string"}},"required":["nssUsername"]}},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/serial-number/{serialNumber}/status/v6":{"post":{"description":"Retrieves an IPA license status (V6).\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["License"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"nssKeyId":{"type":"string"},"version":{"type":"integer","default":1},"op":{"type":"string","default":"get"},"package":{"type":"string"},"source":{"type":"string","default":"occm"},"hostId":{"type":"string"},"requestType":{"type":"string","default":"Download"},"product":{"type":"string"}},"required":["nssKeyId","package"]}},{"type":"string","required":true,"in":"path","name":"accountId"},{"type":"string","pattern":"^[0-9]{1,20}$","required":true,"in":"path","name":"serialNumber"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/services/account/{accountId}/sn-lookup-token":{"post":{"description":"Creates an IPA serial number token.\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["Services"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"grantType":{"type":"string"},"scope":{"type":"string"},"nssKeyId":{"type":"string"}},"required":["grantType","scope","nssKeyId"]}},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"200":{"description":"Sucessfull serial number lookup token response","schema":{"type":"object","description":"Sucessfull serial number lookup token response","properties":{"expires_in":{"type":"integer"},"token_type":{"type":"string"},"refresh_token":{"type":"string"},"access_token":{"type":"string"}}}},"400":{"description":"Client error response","schema":{"$ref":"#/definitions/def-2","description":"Client error response"}},"500":{"description":"Server error response","schema":{"$ref":"#/definitions/def-2","description":"Server error response"}}}}},"/ipa/services/sn-lookup":{"post":{"description":"Creates an IPA serial number.\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["Services"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"snLookupAccessToken":{"type":"string"},"serialNumber":{"type":"string"},"licensesLicenseProtocol":{"type":"string"},"licensesType":{"type":"string"},"hostId":{"type":"string"},"licensesPackage":{"type":"string"}},"required":["snLookupAccessToken"]}},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"400":{"description":"Client error response","schema":{"$ref":"#/definitions/def-2","description":"Client error response"}},"500":{"description":"Server error response","schema":{"$ref":"#/definitions/def-2","description":"Server error response"}}}}},"/ipa/account/{accountId}/nss-key/{nssKeyId}":{"get":{"description":"Retrieves the NSS key credentials for a specified NSS ID. \n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"resources":{"type":"array","items":{"type":"string"}},"credentialType":{"type":"string"},"passwordDeprecated":{"type":"boolean"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}},"put":{"description":"Updates NSS key credentials.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}},{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}},"delete":{"description":"Deletes NSS key credentials.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/nss-keys":{"get":{"description":"Retrieves a list of NSS key credentials associated with an account. You can optionally choose to include the resource data associated with an NSS ID.\n                          <br><br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"boolean","required":false,"in":"query","name":"includeResources"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"resources":{"type":"array","items":{"type":"string"}},"credentialType":{"type":"string"},"passwordDeprecated":{"type":"boolean"}}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/nss-key":{"post":{"description":"Creates NSS key credentials.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"username":{"type":"string"}},"required":["username"]}},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"id":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/idaas-key":{"post":{"description":"Creates an identity-as-a-service (IDaaS) NSS key credential.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"code":{"type":"string"}}}},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"id":{"type":"string"},"ssoId":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/nss-key/{nssKeyId}/associate":{"post":{"description":"Associates a resource with a specified NSS key.<br><br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"query","name":"resourceId"},{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/nss-key/{nssKeyId}/disassociate":{"post":{"description":"Disassociates a resource from a specified NSS key.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"query","name":"resourceId"},{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/src-nss-key/{srcNssKeyId}/dst-nss_key/{dstNssKeyId}/resource/{resourceId}":{"post":{"description":"Transfers the source NSS data to the destination NSS key of the associated resource.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"path","name":"srcNssKeyId"},{"type":"string","required":true,"in":"path","name":"dstNssKeyId"},{"type":"string","required":true,"in":"path","name":"resourceId"},{"type":"string","required":true,"in":"path","name":"accountId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Success response","schema":{"description":"Success response","type":"string","example":"OK"}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/nss-key/resource/{resourceId}":{"get":{"description":"Retrieves NSS credentials for a specified resource ID and validates them if the validateKey field is true.\n            <br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"boolean","required":false,"in":"query","name":"validateKey"},{"type":"string","required":true,"in":"path","name":"accountId"},{"type":"string","required":true,"in":"path","name":"resourceId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"id":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/nss-key/{nssKeyId}/access-token":{"get":{"description":"Retrieves NSS user B2C access token.\n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":"","explorer":false},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"access_token":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/accounts/nss-data":{"get":{"description":"Retrieves NSS data associated with the Cloud Manager accounts. \n            <br><b>Token usage:</b> Cloud Manager service token.","tags":["NSS"],"parameters":[{"in":"header","name":"authorization","required":true,"description":"Authorization JWT Service Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"type":"object","properties":{"accountId":{"type":"string"},"nss":{"type":"array","items":{"type":"object","properties":{"ssoId":{"type":"string"},"idaas":{"type":"boolean"}}}}}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}},"/ipa/account/{accountId}/nss-key/{nssKeyId}/nss-data":{"get":{"description":"Retrieves NSS data associated with an account ID and NSS key ID.<br><br><b>Token usage:</b> Cloud Manager user token.","tags":["NSS"],"parameters":[{"type":"string","required":true,"in":"path","name":"accountId"},{"type":"string","required":true,"in":"path","name":"nssKeyId"},{"in":"header","name":"authorization","required":true,"description":"Authorization JWT User Token","type":"string"},{"in":"header","name":"X-Service-Request-Id","required":false,"description":"Request identifier","type":"string"}],"x-doc":{"title":"","category":"","filename":""},"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"}}}},"400":{"description":"Error response","schema":{"$ref":"#/definitions/def-2","description":"Error response"}}}}}},"schemes":["https"],"consumes":["application/json"],"produces":["application/json"],"securityDefinitions":{"Authorization_Token":{"type":"apiKey","name":"Authorization","in":"header"}},"tags":[{"name":"License","description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>The license endpoints in the IPA service provide license management to the IPA. License management includes license registration, deregistration, and status checks to the NetApp-wide IPA.</p>\n<p>The registration and deregistration APIs register and deregister the Cloud Manager license to the IPA service.<br />\nBased on the various versions of the IPA service, there are several versions of the Cloud Manager license registration/deregistration endpoints.</p>\n<p>Similarly, the license status check endpoint has different versions pertaining to different IPA service versions.</p>\n<p>The following describes the mapping between the Cloud Manager IPA licensing endpoints and the IPA product registration endpoints:</p>\n<ul>\n<li>Registration and deregistration maps to <IPAendpoint>/IPA/v2/prodregister</li>\n<li>Status check maps to <IPAendpoint>/IPA/v2/prodstatus</li>\n<li>IPA version-5 (IPA v5) status maps to <IPAendpoint>/entitlement/IPA/v4/prodstatus</li>\n<li>IPA v5 authentication maps to <IPAendpoint>/entitlement/IPA/v4/authenticate</li>\n<li>IPA v6 status maps to <IPAendpoint>/entitlement/IPA/v6/prodstatus</li>\n</ul>\n<p>For the credentials required for license management, the license endpoints map to cred_service_endpoint/accounts/:accountId/credentials.</p>\n<p>You can perform the following operations by using IPA license endpoints across various versions of the IPA service:</p>\n<ul>\n<li>Registration</li>\n<li>Deregistration</li>\n<li>Registration status check</li>\n</ul>\n</fieldset>\n</details>\n"},{"name":"Services","description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>The services endpoint performs the NetApp IPA serial number (sn) lookup and serial number token lookup operations.<br />\nYou need a lookup token to look up a serial number. You can retrieve both a serial number and a lookup token by using this endpoint.</p>\n<p>To look up a serial number token (sn-token), the Cloud Manager IPA services endpoint consults the <code>sn-lookup-service</code> endpoint.<br />\nTo look up a serial number (sn-lookup), the Cloud Manager IPA services endpoint consults the <code>sn-service</code> endpoint.</p>\n<p>You can perform the following operations with the IPA services endpoint:</p>\n<ul>\n<li>Retrieve serial number lookup token</li>\n<li>Look up serial number</li>\n</ul>\n</fieldset>\n</details>\n"},{"name":"NSS","description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>NetApp Support Site (NSS) endpoints in the Cloud Manager IPA service provide various functions<br />\nrelated to NSS key management, migration, and access-token retrieval.</p>\n<p>An NSS key is a collection of the following:</p>\n<ul>\n<li>Public identifier</li>\n<li>Resource identifier â€“ used internally (such as VsaWorkingEnvironment-6iEs02vL)</li>\n<li>Account ID (such as account-NJ1nCpW5)</li>\n<li>Resource class (such as ON_PREM, VSA, S3)</li>\n<li>NSS key ID (such as a75d2cbb-4be9-4115-b8d0-31fa10c7791c)</li>\n<li>NSS username - the name with which an NSS registration is made</li>\n</ul>\n<p>You can perform the following actions with the NSS endpoints:</p>\n<ul>\n<li>NSS key management (retrieve, update, delete)</li>\n<li>Associate or dissociate an NSS key</li>\n<li>Update an NSS key of a resource</li>\n<li>Migrate an NSS key and associate it to a resource</li>\n<li>Retrieve an access token (required for registration)</li>\n<li>Retrieve an NSS username and email</li>\n</ul>\n</fieldset>\n</details>\n"}],"externalDocs":{"url":"https://docs.netapp.com/us-en/cloud-manager-automation/cm/introduction.html","description":"Learn more about the Cloud Manager platform REST APIs."}}
