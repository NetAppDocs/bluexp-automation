{
    "openapi":"3.0.3",
    "info":{
       "title":"IPA service REST API reference",
       "description":"  <details><summary>Overview</summary>\n<p>The In-Product Automation (IPA) service is a backend platform service for BlueXP that provides a REST API-based automation facility to enable license enforcement and policy-driven operational control for an array of software license models. It encompasses various NetApp product lines, including ONTAP (AFF/FAS/Cloud Volumes ONTAP), E-Series, StorageGRID, SolidFire and other host-based solutions such as OnCommand Insight.</p>\n<p>The BlueXP IPA service orchestrates the overall IPA configuration to facilitate the management of licenses, services, and NetApp Support Site (NSS) user data. It provides streamlined orchestration of Cloud Volumes ONTAP system management of IPA functions.</p>\n<p>The IPA service provides secure and granular role-based access control (RBAC) for resources in BlueXP. The service operates within the context of a BlueXP account. The identity of the API caller and the account are established through a user or service token.</p>\n<p>There are four components defined within the IPA service that expose REST endpoints.</p>\n<ul>\n<li>license</li>\n<li>services</li>\n<li>NSS</li>\n<li>support</li>\n</ul>\n<p>The IPA service has two modes of operation:</p>\n<ul>\n<li>Legacy <code>password</code> -based authentication mode</li>\n<li>Current <code>token</code> -based authentication mode</li>\n</ul>\n<p>The different modes of operation depend on the way a license is registered for a particular serial number. The preferred mode of authentication is the current token-based<br />\nmode of operation. When a license is registered with a password, the legacy Oracle password-based authentication mode is used.</p>\n<p>The key benefits of the IPA service include:</p>\n<ul>\n<li>A consistent and coherent user experience of  IPA-related features (such as license and NSS)</li>\n<li>An intuitive REST API to manage the IPA-related features that can call up a license, service, and NSS user on the same plane</li>\n</ul>\n<p>All IPA service API calls are short-lived and run synchronously. Asynchronous processing and internal process tracking are not supported.</p>\n<p><strong>Note:</strong> Before using the API reference documentation, review the <a href=\"https://docs.netapp.com/us-en/cloud-manager-automation/platform/overview.html\">Get started</a> section for the BlueXP APIs.<br />\nFor more information about the security tokens and identifiers youâ€™ll need when using the API, review the <a href=\"https://docs.netapp.com/us-en/cloud-manager-automation/platform/get_identifiers.html\">Common workflows and tasks</a> section.</p>\n</details>\n<hr />\n   <details>\n<summary>REST implementation</summary>\n<h3>HTTP methods</h3>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>POST</code></td>\n<td>Create an object instance</td>\n</tr>\n<tr>\n<td><code>GET</code></td>\n<td>Retrieve an object instance or collection</td>\n</tr>\n<tr>\n<td><code>PUT</code></td>\n<td>Update an existing object's specified properties</td>\n</tr>\n<tr>\n<td><code>DELETE</code></td>\n<td>Remove an existing object</td>\n</tr>\n</tbody>\n</table>\n<h3>Request headers</h3>\n<table>\n<thead>\n<tr>\n<th>Request Header</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Authorization</code></td>\n<td>Required. Contains the JWT token (user/service)</td>\n</tr>\n<tr>\n<td><code>X-service-request-id</code></td>\n<td>Used to tag a request with application-specific keys for improved supportability. Free-text string</td>\n</tr>\n</tbody>\n</table>\n<h3>Query parameters</h3>\n<p>You can use query parameters with endpoints in the following components:</p>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Query Parameter</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NSS</td>\n<td>accountId (required)</br>nssKeyId (required)</br>resourceId (required)</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3>Response headers</h3>\n<p>This API uses the standard HTTP response headers common with all BlueXP APIs. See <a href=\"https://docs.netapp.com/us-en/cloud-manager-automation/platform/http_details.html#response-headers\">REST implementation</a> for more information.</p>\n<h3>HTTP status codes</h3>\n<table>\n<thead>\n<tr>\n<th>HTTP Status Code</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>200</code></td>\n<td>OK: Returned for successful operation completion</td>\n</tr>\n<tr>\n<td><code>400</code></td>\n<td>Bad Request: Returned if the input is malformed and could not be parsed</td>\n</tr>\n<tr>\n<td><code>401</code></td>\n<td>Unauthorized: Returned if user authentication failed or the token has expired</td>\n</tr>\n<tr>\n<td><code>403</code></td>\n<td>Forbidden: Returned for authorization errors depending on the resource and token</td>\n</tr>\n<tr>\n<td><code>404</code></td>\n<td>Not Found: Returned if the requested resource could not be found</td>\n</tr>\n<tr>\n<td><code>500</code></td>\n<td>Processing Error: Returned if an error occurs on the server while processing the API call</td>\n</tr>\n</tbody>\n</table>\n</details>\n<hr />\n   <details>\n<summary>Error handling</summary>\n<p>There are three processes involved with error handling and processing:</p>\n<ul>\n<li>The error is logged for supportability</li>\n<li>The error is returned to the caller for specific handling</li>\n<li>The database connection is rolled back</li>\n</ul>\n</details>\n<hr />\n   <details>\n<summary>cURL examples</summary>\n<h3>Retrieve NSS data for a specified account</h3>\n<p>This cURL example retrieves NSS data by using a specified account ID and NSS key ID.<br />\nThe NSS data contains the NSS ID, username, and email ID.</p>\n<pre><code class=\"language-bash\">curl -X GET &quot;https://cloudmanager.cloud.netapp.com/ipa/account/&lt;accountId&gt;/nss-key/&lt;nssKeyId&gt;/nss-data\n&quot; -H  &quot;accept: application/json&quot; -H  &quot;authorization: &lt;user token&gt;&quot;\n</code></pre>\n</details>\n<hr />\n   <br><br>",
       "version":"1.0.0"
    },
    "components":{
       "securitySchemes":{
          "authorization":{
             "type":"http",
             "scheme":"bearer",
             "bearerFormat":"JWT",
             "description":"JWT access token to authorize the request, sent on the request header."
          }
       },
       "schemas":{
          "def-0":{
             "title":"Authorization",
             "type":"object",
             "properties":{
                "X-Service-Request-Id":{
                   "description":"Request identifier",
                   "type":"string"
                }
             }
          },
          "def-1":{
             "title":"AuthorizationUser",
             "type":"object",
             "properties":{
                "X-Service-Request-Id":{
                   "description":"Request identifier",
                   "type":"string"
                }
             }
          },
          "def-2":{
             "title":"Error",
             "type":"object",
             "description":"Error response",
             "properties":{
                "error":{
                   "description":"Error code/category",
                   "type":"string"
                },
                "message":{
                   "description":"Error description message",
                   "type":"string"
                }
             }
          }
       }
    },
    "paths":{
       "/ipa/account/{accountId}/serial-number/{serialNumber}/register":{
          "post":{
             "tags":[
                "License"
             ],
             "description":"Registers a license to IPA.\n            <br><b>Token usage:</b> BlueXP service token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "nssKeyId":{
                               "type":"string"
                            },
                            "instanceID":{
                               "type":"string"
                            },
                            "cloudAccountId":{
                               "type":"string"
                            },
                            "startDate":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "nssKeyId",
                            "instanceID",
                            "cloudAccountId",
                            "startDate"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"serialNumber",
                   "required":true,
                   "schema":{
                      "type":"string",
                      "pattern":"^[0-9]{1,20}$"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/serial-number/{serialNumber}/deregister":{
          "post":{
             "tags":[
                "License"
             ],
             "description":"Deregisters a license from IPA.\n            <br><b>Token usage:</b> BlueXP service token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "cloudAccountId":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "cloudAccountId"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"serialNumber",
                   "required":true,
                   "schema":{
                      "type":"string",
                      "pattern":"^[0-9]{1,20}$"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/serial-number/{serialNumber}/registration-status":{
          "post":{
             "tags":[
                "License"
             ],
             "description":"Retrieves a license status.\n            <br><b>Token usage:</b> BlueXP user token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "accountId":{
                               "type":"string"
                            }
                         }
                      }
                   }
                }
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"serialNumber",
                   "required":true,
                   "schema":{
                      "type":"string",
                      "pattern":"^[0-9]{1,20}$"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "status":{
                                  "type":"string"
                               },
                               "statusDescription":{
                                  "type":"string"
                               },
                               "contractEndDate":{
                                  "type":"string"
                               },
                               "contractStartDate":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/serial-number/{serialNumber}/status/v5":{
          "post":{
             "tags":[
                "License"
             ],
             "description":"Retrieves an IPA license status (V5).\n            <br><b>Token usage:</b> BlueXP service token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "nssKeyId":{
                               "type":"string"
                            },
                            "version":{
                               "type":"integer",
                               "default":1
                            },
                            "op":{
                               "type":"string",
                               "default":"get"
                            },
                            "package":{
                               "type":"string",
                               "default":"CLOUD"
                            },
                            "product":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "nssKeyId"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"serialNumber",
                   "required":true,
                   "schema":{
                      "type":"string",
                      "pattern":"^[0-9]{1,20}$"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "status":{
                                  "type":"string"
                               },
                               "statusDescription":{
                                  "type":"string"
                               },
                               "contractEndDate":{
                                  "type":"string"
                               },
                               "statusResp":{
                                  "type":"string"
                               },
                               "capacity":{
                                  "type":"integer"
                               },
                               "serialNumber":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/authenticate/v5":{
          "post":{
             "tags":[
                "License"
             ],
             "description":"Authenticates an IPA license (V5).\n            <br><b>Token usage:</b> BlueXP user token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "nssUsername":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "nssUsername"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/serial-number/{serialNumber}/status/v6":{
          "post":{
             "tags":[
                "License"
             ],
             "description":"Retrieves an IPA license status (V6).\n            <br><b>Token usage:</b> BlueXP service token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "nssKeyId":{
                               "type":"string"
                            },
                            "version":{
                               "type":"integer",
                               "default":1
                            },
                            "op":{
                               "type":"string",
                               "default":"get"
                            },
                            "package":{
                               "type":"string"
                            },
                            "source":{
                               "type":"string",
                               "default":"occm"
                            },
                            "hostId":{
                               "type":"string"
                            },
                            "requestType":{
                               "type":"string",
                               "default":"Download"
                            },
                            "product":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "nssKeyId",
                            "package"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"serialNumber",
                   "required":true,
                   "schema":{
                      "type":"string",
                      "pattern":"^[0-9]{1,20}$"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/services/account/{accountId}/sn-lookup-token":{
          "post":{
             "tags":[
                "Services"
             ],
             "description":"Creates an IPA serial number token.\n            <br><b>Token usage:</b> BlueXP service token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "grantType":{
                               "type":"string"
                            },
                            "scope":{
                               "type":"string"
                            },
                            "nssKeyId":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "grantType",
                            "scope",
                            "nssKeyId"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Sucessfull serial number lookup token response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "description":"Sucessfull serial number lookup token response",
                            "properties":{
                               "expires_in":{
                                  "type":"integer"
                               },
                               "token_type":{
                                  "type":"string"
                               },
                               "refresh_token":{
                                  "type":"string"
                               },
                               "access_token":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Client error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Client error response"
                         }
                      }
                   }
                },
                "5XX":{
                   "description":"Server error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Server error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/services/sn-lookup":{
          "post":{
             "tags":[
                "Services"
             ],
             "description":"Creates an IPA serial number.\n            <br><b>Token usage:</b> BlueXP service token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "snLookupAccessToken":{
                               "type":"string"
                            },
                            "serialNumber":{
                               "type":"string"
                            },
                            "licensesLicenseProtocol":{
                               "type":"string"
                            },
                            "licensesType":{
                               "type":"string"
                            },
                            "hostId":{
                               "type":"string"
                            },
                            "licensesPackage":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "snLookupAccessToken"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "4XX":{
                   "description":"Client error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Client error response"
                         }
                      }
                   }
                },
                "5XX":{
                   "description":"Server error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Server error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-key/{nssKeyId}":{
          "get":{
             "tags":[
                "NSS"
             ],
             "description":"Retrieves the NSS key credentials for a specified NSS ID. \n            <br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "id":{
                                  "type":"string"
                               },
                               "username":{
                                  "type":"string"
                               },
                               "resources":{
                                  "type":"array",
                                  "items":{
                                     "type":"string"
                                  }
                               },
                               "credentialType":{
                                  "type":"string"
                               },
                               "passwordDeprecated":{
                                  "type":"boolean"
                               },
                               "status":{
                                  "enum":[
                                     "EXPIRED",
                                     "UPDATE",
                                     "ABOUT_TO_EXPIRE"
                                  ]
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          },
          "put":{
             "tags":[
                "NSS"
             ],
             "description":"Updates NSS key credentials.\n            <br><b>Token usage:</b> BlueXP user token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "username":{
                               "type":"string"
                            },
                            "password":{
                               "type":"string"
                            }
                         }
                      }
                   }
                }
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          },
          "delete":{
             "tags":[
                "NSS"
             ],
             "description":"Deletes NSS key credentials.\n            <br><b>Token usage:</b> BlueXP user token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "oneOf":[
                            {
                               "type":"object",
                               "properties":{
                                  "userNss":{
                                     "type":"boolean",
                                     "default":false
                                  }
                               }
                            },
                            {
                               "type":"null"
                            }
                         ]
                      }
                   }
                }
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-keys":{
          "get":{
             "tags":[
                "NSS"
             ],
             "description":"Retrieves a list of NSS key credentials associated with an account. You can optionally choose to include the resource data associated with an NSS ID.\n                          <br><br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"query",
                   "name":"includeResources",
                   "required":false,
                   "schema":{
                      "type":"boolean"
                   }
                },
                {
                   "in":"query",
                   "name":"userNss",
                   "required":false,
                   "schema":{
                      "type":"boolean",
                      "default":false
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"array",
                            "items":{
                               "type":"object",
                               "properties":{
                                  "id":{
                                     "type":"string"
                                  },
                                  "username":{
                                     "type":"string"
                                  },
                                  "resources":{
                                     "type":"array",
                                     "items":{
                                        "type":"string"
                                     }
                                  },
                                  "credentialType":{
                                     "type":"string"
                                  },
                                  "passwordDeprecated":{
                                     "type":"boolean"
                                  },
                                  "status":{
                                     "enum":[
                                        "EXPIRED",
                                        "ACTIVE",
                                        "ABOUT_TO_EXPIRE"
                                     ]
                                  }
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-key":{
          "post":{
             "tags":[
                "NSS"
             ],
             "description":"Creates NSS key credentials.\n            <br><b>Token usage:</b> BlueXP user token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "username":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "username"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "id":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/idaas-key":{
          "post":{
             "tags":[
                "NSS"
             ],
             "description":"Creates an identity-as-a-service (IDaaS) NSS key credential.\n            <br><b>Token usage:</b> BlueXP user token.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "code":{
                               "type":"string"
                            },
                            "userNss":{
                               "type":"boolean",
                               "default":false
                            }
                         }
                      }
                   }
                }
             },
             "parameters":[
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "id":{
                                  "type":"string"
                               },
                               "ssoId":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-key/{nssKeyId}/associate":{
          "post":{
             "tags":[
                "NSS"
             ],
             "description":"Associates a resource with a specified NSS key.<br><br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"query",
                   "name":"resourceId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-key/{nssKeyId}/disassociate":{
          "post":{
             "tags":[
                "NSS"
             ],
             "description":"Disassociates a resource from a specified NSS key.\n            <br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"query",
                   "name":"resourceId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/src-nss-key/{srcNssKeyId}/dst-nss_key/{dstNssKeyId}/resource/{resourceId}":{
          "post":{
             "tags":[
                "NSS"
             ],
             "description":"Transfers the source NSS data to the destination NSS key of the associated resource.\n            <br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"path",
                   "name":"srcNssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"dstNssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"resourceId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Success response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "description":"Success response",
                            "type":"string",
                            "example":"OK"
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-key/resource/{resourceId}":{
          "get":{
             "tags":[
                "NSS"
             ],
             "description":"Retrieves NSS credentials for a specified resource ID and validates them if the validateKey field is true.\n            <br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"query",
                   "name":"validateKey",
                   "required":false,
                   "schema":{
                      "type":"boolean"
                   }
                },
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"resourceId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "id":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/nss-key/{nssKeyId}/access-token":{
          "get":{
             "tags":[
                "NSS"
             ],
             "description":"Retrieves NSS user B2C access token.\n            <br><b>Token usage:</b> BlueXP service token.",
             "parameters":[
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "access_token":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/accounts/nss-data":{
          "get":{
             "tags":[
                "NSS"
             ],
             "description":"Retrieves NSS data associated with the BlueXP accounts. \n            <br><b>Token usage:</b> BlueXP service token.",
             "parameters":[
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"array",
                            "items":{
                               "type":"object",
                               "properties":{
                                  "accountId":{
                                     "type":"string"
                                  },
                                  "nss":{
                                     "type":"array",
                                     "items":{
                                        "type":"object",
                                        "properties":{
                                           "ssoId":{
                                              "type":"string"
                                           },
                                           "idaas":{
                                              "type":"boolean"
                                           }
                                        }
                                     }
                                  }
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/account/{accountId}/nss-key/{nssKeyId}/nss-data":{
          "get":{
             "tags":[
                "NSS"
             ],
             "description":"Retrieves NSS data associated with an account ID and NSS key ID.<br><br><b>Token usage:</b> BlueXP user token.",
             "parameters":[
                {
                   "in":"path",
                   "name":"accountId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"path",
                   "name":"nssKeyId",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                },
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":""
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "id":{
                                  "type":"string"
                               },
                               "username":{
                                  "type":"string"
                               },
                               "email":{
                                  "type":"string"
                               },
                               "status":{
                                  "enum":[
                                     "EXPIRED",
                                     "ACTIVE",
                                     "ABOUT_TO_EXPIRE"
                                  ]
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/support/case/system-entitlements":{
          "post":{
             "tags":[
                "Support"
             ],
             "description":"Checks system entitlements for a specified serial number. This will check whether a user is entitled to create a case for the requested serial number.\n            <br><b>Token usage:</b> Both a BlueXP user token and service token. The service token needs to include the following scopes: %scopes%. Pass the user token in the %userTokenHeader% request header and the service token in the %serviceTokenHeader% request header.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "serialNumber":{
                               "type":"string"
                            },
                            "email":{
                               "type":"string"
                            },
                            "nssKeyId":{
                               "type":"string"
                            },
                            "accountId":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "serialNumber"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "ntapUID":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       },
       "/ipa/support/case/create":{
          "post":{
             "tags":[
                "Support"
             ],
             "description":"Creates a support case.\n            <br><b>Token usage:</b> Both a BlueXP user token and service token. The service token needs to include the following scopes: %scopes%. Pass the user token in the %userTokenHeader% request header and the service token in the %serviceTokenHeader% request header.",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "type":"object",
                         "properties":{
                            "accountId":{
                               "type":"string"
                            },
                            "additionalEmail":{
                               "type":"string"
                            },
                            "attributeMap":{
                               "type":"object"
                            },
                            "caseDescription":{
                               "type":"string",
                               "minLength":1,
                               "maxLength":66560
                            },
                            "priority":{
                               "enum":[
                                  "P1",
                                  "P2",
                                  "P3",
                                  "P4"
                               ]
                            },
                            "caseTitle":{
                               "type":"string",
                               "minLength":1,
                               "maxLength":40
                            },
                            "serialNumber":{
                               "type":"string"
                            },
                            "nssKeyId":{
                               "type":"string"
                            },
                            "category1":{
                               "type":"integer"
                            },
                            "category2":{
                               "type":"integer"
                            },
                            "node":{
                               "type":"string"
                            }
                         },
                         "required":[
                            "serialNumber",
                            "accountId",
                            "nssKeyId"
                         ]
                      }
                   }
                },
                "required":true
             },
             "parameters":[
                {
                   "in":"header",
                   "name":"X-Service-Request-Id",
                   "required":false,
                   "description":"Request identifier",
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "x-doc":{
                "title":"",
                "category":"",
                "filename":"",
                "explorer":false
             },
             "responses":{
                "200":{
                   "description":"Default Response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "type":"object",
                            "properties":{
                               "caseNumber":{
                                  "type":"string"
                               }
                            }
                         }
                      }
                   }
                },
                "4XX":{
                   "description":"Error response",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/def-2",
                            "description":"Error response"
                         }
                      }
                   }
                }
             }
          }
       }
    },
    "servers":[
       {
          "url":"https://cloudmanager.cloud.netapp.com"
       }
    ],
    "security":[
       {
          "authorization":[
             
          ]
       }
    ],
    "tags":[
       {
          "name":"License",
          "description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>The license endpoints in the IPA service provide license management to the IPA. License management includes license registration, deregistration, and status checks to the NetApp-wide IPA.</p>\n<p>The registration and deregistration APIs register and deregister the BlueXP license to the IPA service.<br />\nBased on the various versions of the IPA service, there are several versions of the BlueXP license registration/deregistration endpoints.</p>\n<p>Similarly, the license status check endpoint has different versions pertaining to different IPA service versions.</p>\n<p>The following describes the mapping between the BlueXP IPA licensing endpoints and the IPA product registration endpoints:</p>\n<ul>\n<li>Registration and deregistration maps to <IPAendpoint>/IPA/v2/prodregister</li>\n<li>Status check maps to <IPAendpoint>/IPA/v2/prodstatus</li>\n<li>IPA version-5 (IPA v5) status maps to <IPAendpoint>/entitlement/IPA/v4/prodstatus</li>\n<li>IPA v5 authentication maps to <IPAendpoint>/entitlement/IPA/v4/authenticate</li>\n<li>IPA v6 status maps to <IPAendpoint>/entitlement/IPA/v6/prodstatus</li>\n</ul>\n<p>For the credentials required for license management, the license endpoints map to cred_service_endpoint/accounts/:accountId/credentials.</p>\n<p>You can perform the following operations by using IPA license endpoints across various versions of the IPA service:</p>\n<ul>\n<li>Registration</li>\n<li>Deregistration</li>\n<li>Registration status check</li>\n</ul>\n</fieldset>\n</details>\n"
       },
       {
          "name":"Services",
          "description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>The services endpoint performs the NetApp IPA serial number (sn) lookup and serial number token lookup operations.<br />\nYou need a lookup token to look up a serial number. You can retrieve both a serial number and a lookup token by using this endpoint.</p>\n<p>To look up a serial number token (sn-token), the BlueXP IPA services endpoint consults the <code>sn-lookup-service</code> endpoint.<br />\nTo look up a serial number (sn-lookup), the BlueXP IPA services endpoint consults the <code>sn-service</code> endpoint.</p>\n<p>You can perform the following operations with the IPA services endpoint:</p>\n<ul>\n<li>Retrieve serial number lookup token</li>\n<li>Look up serial number</li>\n</ul>\n</fieldset>\n</details>\n"
       },
       {
          "name":"NSS",
          "description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>NetApp Support Site (NSS) endpoints in the BlueXP IPA service provide various functions<br />\nrelated to NSS key management, migration, and access-token retrieval.</p>\n<p>An NSS key is a collection of the following:</p>\n<ul>\n<li>Public identifier</li>\n<li>Resource identifier â€“ used internally (such as VsaWorkingEnvironment-6iEs02vL)</li>\n<li>Account ID (such as account-NJ1nCpW5)</li>\n<li>Resource class (such as ON_PREM, VSA, S3)</li>\n<li>NSS key ID (such as a75d2cbb-4be9-4115-b8d0-31fa10c7791c)</li>\n<li>NSS username - the name with which an NSS registration is made</li>\n</ul>\n<p>You can perform the following actions with the NSS endpoints:</p>\n<ul>\n<li>NSS key management (retrieve, update, delete)</li>\n<li>Associate or dissociate an NSS key</li>\n<li>Update an NSS key of a resource</li>\n<li>Migrate an NSS key and associate it to a resource</li>\n<li>Retrieve an access token (required for registration)</li>\n<li>Retrieve an NSS username and email</li>\n</ul>\n</fieldset>\n</details>\n"
       },
       {
          "name":"Support",
          "description":"<details>\n<summary>Overview</summary>\n<fieldset>\n<p>The support endpoint performs the case system entitlements and case creation operations.</p>\n<p>You can perform the following operations with the IPA support endpoint:</p>\n<ul>\n<li>Check system entitlements for serial number - this will check if the user in entitled to create case for the requested serial number.</li>\n<li>Create support case</li>\n</ul>\n</fieldset>\n</details>\n"
       }
    ],
    "externalDocs":{
       "url":"https://docs.netapp.com/us-en/cloud-manager-automation/cm/introduction.html",
       "description":"Learn more about the BlueXP control plane REST APIs."
    }
 }